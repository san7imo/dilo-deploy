import{u as k,e as a,a as e,j as u,f,v as d,g as r,t as n,k as v,F as _,i as y,l as b,o as i}from"./app-DAUalued.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const S={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},U={key:0,class:"text-red-500 text-sm mt-1"},V={key:0,class:"text-red-500 text-sm mt-1"},E=["value"],P={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},j={key:0,class:"text-red-500 text-sm mt-1"},A={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},C={class:"text-gray-300 text-sm"},F=["onUpdate:modelValue"],w=["value"],D={class:"flex justify-end"},M={type:"submit",class:"btn-primary"},R={__name:"Form",props:{track:{type:Object,default:()=>({})},releases:{type:Array,default:()=>[]},artists:{type:Array,default:()=>[]},mode:{type:String,default:"create"}},setup(c){const o=c,l=k({release_id:o.track.release_id||"",title:o.track.title||"",isrc:o.track.isrc||"",track_number:o.track.track_number||"",duration:o.track.duration||"",preview_url:o.track.preview_url||"",spotify_url:o.track.spotify_url||"",youtube_url:o.track.youtube_url||"",apple_music_url:o.track.apple_music_url||"",deezer_url:o.track.deezer_url||"",amazon_music_url:o.track.amazon_music_url||"",soundcloud_url:o.track.soundcloud_url||"",tidal_url:o.track.tidal_url||"",artist_ids:o.track.artists?o.track.artists.map(p=>p.id):[],cover_file:null}),x=()=>{console.log("ðŸŽµ Enviando formulario..."),console.log("ðŸ“¦ Datos del form:",l.data());const p=o.mode==="edit"?route("admin.tracks.update",o.track.id):route("admin.tracks.store"),t=(o.mode==="edit","post");l.transform(s=>({...s,_method:o.mode==="edit"?"put":"post"})).submit(t,p,{forceFormData:!0,onStart:()=>console.log("ðŸš€ Request iniciada:",p),onProgress:s=>console.log("ðŸ“¤ Progreso:",s),onError:s=>{console.group("âŒ Errores de validaciÃ³n"),Object.entries(s).forEach(([m,g])=>console.log(`- ${m}:`,g)),console.groupEnd()},onSuccess:()=>console.log("âœ… Pista guardada correctamente"),onFinish:()=>console.log("ðŸ Proceso finalizado")})};return(p,t)=>(i(),a("form",{onSubmit:b(x,["prevent"]),class:"space-y-6"},[e("div",S,[e("div",null,[t[8]||(t[8]=e("label",{class:"text-gray-300 text-sm"},"TÃ­tulo de la pista",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r(l).title=s),type:"text",class:"input",placeholder:"Ej: Mi canciÃ³n"},null,512),[[d,r(l).title]]),r(l).errors.title?(i(),a("p",U,n(r(l).errors.title),1)):f("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{class:"text-gray-300 text-sm"},"ISRC (opcional)",-1)),u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>r(l).isrc=s),type:"text",class:"input",placeholder:"Ej: USRC17607839"},null,512),[[d,r(l).isrc]]),r(l).errors.isrc?(i(),a("p",V,n(r(l).errors.isrc),1)):f("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"text-gray-300 text-sm"},"NÃºmero de pista",-1)),u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>r(l).track_number=s),type:"number",min:"1",class:"input"},null,512),[[d,r(l).track_number]])])]),e("div",null,[t[12]||(t[12]=e("label",{class:"text-gray-300 text-sm"},"Lanzamiento asociado",-1)),u(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>r(l).release_id=s),class:"input"},[t[11]||(t[11]=e("option",{disabled:"",value:""},"Selecciona un release",-1)),(i(!0),a(_,null,y(c.releases,s=>(i(),a("option",{key:s.id,value:s.id},n(s.title),9,E))),128))],512),[[v,r(l).release_id]])]),e("div",P,[e("div",null,[t[13]||(t[13]=e("label",{class:"text-gray-300 text-sm"},"DuraciÃ³n (mm:ss)",-1)),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>r(l).duration=s),type:"text",class:"input",placeholder:"Ej: 03:25"},null,512),[[d,r(l).duration]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"text-gray-300 text-sm"},"PrevisualizaciÃ³n (URL)",-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>r(l).preview_url=s),type:"url",class:"input",placeholder:"https://..."},null,512),[[d,r(l).preview_url]])])]),e("div",null,[t[15]||(t[15]=e("label",{class:"text-gray-300 text-sm"},"Portada de la pista",-1)),e("input",{type:"file",class:"input-file",onChange:t[6]||(t[6]=s=>{r(l).cover_file=s.target.files[0],console.log("ðŸ–¼ Archivo seleccionado:",s.target.files[0])})},null,32),r(l).errors.cover_file?(i(),a("p",j,n(r(l).errors.cover_file),1)):f("",!0)]),e("div",null,[t[16]||(t[16]=e("h3",{class:"text-[#ffa236] font-semibold mb-2"},"Plataformas",-1)),e("div",A,[(i(),a(_,null,y({spotify_url:"Spotify",youtube_url:"YouTube",apple_music_url:"Apple Music",deezer_url:"Deezer",amazon_music_url:"Amazon Music",soundcloud_url:"SoundCloud",tidal_url:"Tidal"},(s,m)=>e("div",{key:m},[e("label",C,n(s),1),u(e("input",{"onUpdate:modelValue":g=>r(l)[m]=g,type:"url",class:"input",placeholder:"https://..."},null,8,F),[[d,r(l)[m]]])])),64))])]),e("div",null,[t[17]||(t[17]=e("label",{class:"text-gray-300 text-sm"},"Artistas participantes",-1)),u(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>r(l).artist_ids=s),class:"input",multiple:""},[(i(!0),a(_,null,y(c.artists,s=>(i(),a("option",{key:s.id,value:s.id},n(s.name),9,w))),128))],512),[[v,r(l).artist_ids]]),t[18]||(t[18]=e("p",{class:"text-gray-500 text-xs mt-2"},"Puedes seleccionar varios artistas (Ctrl/Cmd + click).",-1))]),e("div",D,[e("button",M,n(o.mode==="edit"?"Actualizar pista":"Guardar pista"),1)])],32))}},N=z(R,[["__scopeId","data-v-410ff921"]]);export{N as default};
