import{u as V,x as _,e as r,a as e,j as n,f as x,v as d,g as s,t as p,k as v,y,s as S,F as g,i as f,l as k,o as u}from"./app-DMZ2GxHc.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const F={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},E={key:0,class:"text-red-500 text-sm mt-1"},w={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},P={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},A={key:0,class:"text-red-500 text-sm mt-1"},D={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},M={class:"mt-3 flex items-center gap-2"},z=["value"],j=["value"],N={class:"flex justify-end"},B={type:"submit",class:"btn-primary"},R={__name:"Form",props:{event:{type:Object,default:()=>({})},artists:{type:Array,default:()=>[]},mode:{type:String,default:"create"}},setup(m){const a=m,o=V({title:a.event.title||"",description:a.event.description||"",location:a.event.location||"",event_date:a.event.event_date||"",event_type:a.event.event_type||"",country:a.event.country||"",city:a.event.city||"",venue_address:a.event.venue_address||"",show_fee_total:a.event.show_fee_total||"",currency:a.event.currency||"EUR",advance_percentage:a.event.advance_percentage||50,advance_expected:a.event.advance_expected??!0,full_payment_due_date:a.event.full_payment_due_date||"",status:a.event.status||"",artist_ids:a.event.artists?a.event.artists.map(i=>i.id):[],main_artist_id:a.event.main_artist_id||null,poster_file:null});_(()=>o.artist_ids,i=>{if(Array.isArray(i)&&i.length===1){o.main_artist_id=i[0];return}i!=null&&i.includes(o.main_artist_id)||(o.main_artist_id=null)},{deep:!0});const c=()=>{console.log("ðŸŽ¤ Enviando formulario de evento...",o.data());const i="post",t=a.mode==="edit"?route("admin.events.update",a.event.id):route("admin.events.store");o.transform(l=>({...l,_method:a.mode==="edit"?"put":"post"})).submit(i,t,{forceFormData:!0,onStart:()=>console.log("ðŸš€ Enviando request a:",t),onProgress:l=>console.log("ðŸ“¤ Subiendo...",l),onError:l=>{console.group("âŒ Errores de validaciÃ³n");for(const[b,U]of Object.entries(l))console.log(`${b}:`,U);console.groupEnd()},onSuccess:()=>console.log("âœ… Evento guardado correctamente"),onFinish:()=>console.log("ðŸ Proceso finalizado")})};return(i,t)=>(u(),r("form",{onSubmit:k(c,["prevent"]),class:"space-y-6"},[e("div",F,[e("div",null,[t[17]||(t[17]=e("label",{class:"text-gray-300 text-sm"},"TÃ­tulo del evento",-1)),n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s(o).title=l),type:"text",class:"input",placeholder:"Nombre del evento"},null,512),[[d,s(o).title]]),s(o).errors.title?(u(),r("p",E,p(s(o).errors.title),1)):x("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{class:"text-gray-300 text-sm"},"Fecha del evento",-1)),n(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>s(o).event_date=l),type:"date",class:"input"},null,512),[[d,s(o).event_date]])])]),e("div",null,[t[19]||(t[19]=e("label",{class:"text-gray-300 text-sm"},"UbicaciÃ³n",-1)),n(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s(o).location=l),type:"text",class:"input",placeholder:"Ciudad, paÃ­s o venue"},null,512),[[d,s(o).location]])]),e("div",w,[e("div",null,[t[20]||(t[20]=e("label",{class:"text-gray-300 text-sm"},"PaÃ­s",-1)),n(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>s(o).country=l),type:"text",class:"input",placeholder:"PaÃ­s"},null,512),[[d,s(o).country]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"text-gray-300 text-sm"},"Ciudad",-1)),n(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>s(o).city=l),type:"text",class:"input",placeholder:"Ciudad"},null,512),[[d,s(o).city]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"text-gray-300 text-sm"},"DirecciÃ³n del venue",-1)),n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>s(o).venue_address=l),type:"text",class:"input",placeholder:"DirecciÃ³n"},null,512),[[d,s(o).venue_address]])])]),e("div",P,[e("div",null,[t[24]||(t[24]=e("label",{class:"text-gray-300 text-sm"},"Tipo de evento",-1)),n(e("select",{"onUpdate:modelValue":t[6]||(t[6]=l=>s(o).event_type=l),class:"input"},[...t[23]||(t[23]=[y('<option value="" data-v-73682bf6>Selecciona un tipo</option><option value="masivo" data-v-73682bf6>Masivo</option><option value="publico" data-v-73682bf6>PÃºblico</option><option value="discoteca" data-v-73682bf6>Discoteca</option><option value="privado" data-v-73682bf6>Privado</option><option value="meet_and_greet" data-v-73682bf6>Meet &amp; Greet</option>',6)])],512),[[v,s(o).event_type]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"text-gray-300 text-sm"},"Estado",-1)),n(e("select",{"onUpdate:modelValue":t[7]||(t[7]=l=>s(o).status=l),class:"input"},[...t[25]||(t[25]=[y('<option value="" data-v-73682bf6>Selecciona un estado</option><option value="cotizado" data-v-73682bf6>Cotizado</option><option value="reservado" data-v-73682bf6>Reservado</option><option value="confirmado" data-v-73682bf6>Confirmado</option><option value="pagado" data-v-73682bf6>Pagado</option><option value="cancelado" data-v-73682bf6>Cancelado</option>',6)])],512),[[v,s(o).status]])])]),e("div",null,[t[27]||(t[27]=e("label",{class:"text-gray-300 text-sm"},"DescripciÃ³n",-1)),n(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=l=>s(o).description=l),rows:"4",class:"input",placeholder:"Detalles del evento..."},null,512),[[d,s(o).description]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"text-gray-300 text-sm"},"PÃ³ster / Afiche",-1)),e("input",{type:"file",class:"input-file",onChange:t[9]||(t[9]=l=>{s(o).poster_file=l.target.files[0],console.log("ðŸ–¼ Archivo seleccionado:",l.target.files[0])})},null,32),s(o).errors.poster_file?(u(),r("p",A,p(s(o).errors.poster_file),1)):x("",!0)]),e("div",null,[t[34]||(t[34]=e("label",{class:"text-gray-300 text-sm"},"Finanzas del evento",-1)),e("div",D,[e("div",null,[t[29]||(t[29]=e("label",{class:"text-gray-300 text-sm"},"Fee total (show)",-1)),n(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>s(o).show_fee_total=l),type:"number",step:"0.01",class:"input",placeholder:"0.00"},null,512),[[d,s(o).show_fee_total]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"text-gray-300 text-sm"},"Moneda",-1)),n(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>s(o).currency=l),type:"text",class:"input",placeholder:"EUR",maxlength:"3"},null,512),[[d,s(o).currency]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"text-gray-300 text-sm"},"% Anticipo",-1)),n(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>s(o).advance_percentage=l),type:"number",step:"0.01",class:"input",placeholder:"50"},null,512),[[d,s(o).advance_percentage]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"text-gray-300 text-sm"},"Fecha pago final",-1)),n(e("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>s(o).full_payment_due_date=l),type:"date",class:"input"},null,512),[[d,s(o).full_payment_due_date]])])]),e("div",M,[n(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>s(o).advance_expected=l),type:"checkbox",class:"checkbox"},null,512),[[S,s(o).advance_expected]]),t[33]||(t[33]=e("span",{class:"text-gray-300 text-sm"},"Â¿Se espera anticipo?",-1))])]),e("div",null,[t[35]||(t[35]=e("label",{class:"text-gray-300 text-sm"},"Lista de artistas",-1)),n(e("select",{"onUpdate:modelValue":t[15]||(t[15]=l=>s(o).artist_ids=l),multiple:"",class:"input"},[(u(!0),r(g,null,f(m.artists,l=>(u(),r("option",{key:l.id,value:l.id},p(l.name),9,z))),128))],512),[[v,s(o).artist_ids]]),t[36]||(t[36]=e("p",{class:"text-gray-500 text-xs mt-1"}," Puedes seleccionar varios artistas (Ctrl/Cmd + click) ",-1))]),e("div",null,[t[38]||(t[38]=e("label",{class:"text-gray-300 text-sm"},"Artista principal",-1)),n(e("select",{"onUpdate:modelValue":t[16]||(t[16]=l=>s(o).main_artist_id=l),class:"input"},[t[37]||(t[37]=e("option",{value:"",disabled:""},"Seleccione el artista principal",-1)),(u(!0),r(g,null,f(m.artists.filter(l=>s(o).artist_ids.includes(l.id)),l=>(u(),r("option",{key:l.id,value:l.id},p(l.name),9,j))),128))],512),[[v,s(o).main_artist_id]]),t[39]||(t[39]=e("p",{class:"text-gray-500 text-xs mt-1"}," selecciona el artista principal de la lista de invitados ",-1))]),e("div",N,[e("button",B,p(a.mode==="edit"?"Actualizar evento":"Guardar evento"),1)])],32))}},O=C(R,[["__scopeId","data-v-73682bf6"]]);export{O as default};
