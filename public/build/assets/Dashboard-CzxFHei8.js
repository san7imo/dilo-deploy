import{d as h,y as _,p as k,c as b,w as f,a as t,e as r,f as c,b as v,g as w,m as D,h as S,t as o,o as l,F as y,i as g,j as N,v as T}from"./app-DAUalued.js";import{A as U}from"./AdminLayout-DhfR_T_4.js";import{_ as j}from"./PaginationLinks-djDCdIfn.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./responsive-blanco-DOkwJ8BK.js";const B={class:"flex items-center justify-between mb-6"},F={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-8"},V={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-4"},C={class:"text-[#ffa236] text-2xl font-semibold"},I={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-4"},A={class:"text-[#ffa236] text-2xl font-semibold"},L={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-4"},M={class:"text-[#ffa236] text-2xl font-semibold"},O={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-4"},q={class:"text-[#ffa236] text-2xl font-semibold"},E={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-4"},$={class:"text-[#ffa236] text-2xl font-semibold"},z={key:0,class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-4 mb-8"},G={class:"overflow-x-auto"},H={class:"min-w-full text-sm text-gray-300"},J={class:"px-3 py-2"},K={class:"px-3 py-2"},P={class:"px-3 py-2"},Q={class:"flex items-center justify-between mb-4"},W={class:"overflow-x-auto bg-[#0f0f0f] rounded-lg shadow"},X={class:"min-w-full text-sm text-gray-300"},Y={class:"px-4 py-3"},Z={class:"px-4 py-3"},tt={class:"px-4 py-3"},st={class:"px-4 py-3"},et={class:"px-4 py-3"},at={key:0},ot={__name:"Dashboard",props:{kpis:Object,tracks:Object,monthly:Array,filters:Object},setup(e){var x;const n=h(((x=e.filters)==null?void 0:x.q)||"");_(n,d=>{k.get(route("admin.royalties.dashboard"),{q:d||void 0},{preserveState:!0,replace:!0})});const i=d=>{const s=Number(d??0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:6}).format(Number.isNaN(s)?0:s)};return(d,s)=>(l(),b(U,{title:"Royalties"},{default:f(()=>{var m,p;return[t("div",B,[s[2]||(s[2]=t("div",null,[t("h1",{class:"text-2xl font-semibold text-white"},"Royalties Dashboard"),t("p",{class:"text-gray-400 text-sm"}," Totales basados en statements procesados y vigentes. ")],-1)),v(w(D),{href:d.route("admin.royalties.statements.index"),class:"text-gray-400 hover:text-white"},{default:f(()=>[...s[1]||(s[1]=[S(" Statements ",-1)])]),_:1},8,["href"])]),t("div",F,[t("div",V,[s[3]||(s[3]=t("p",{class:"text-gray-400 text-sm"},"Total USD",-1)),t("p",C,o(i(e.kpis.total_usd)),1)]),t("div",I,[s[4]||(s[4]=t("p",{class:"text-gray-400 text-sm"},"Units",-1)),t("p",A,o(e.kpis.total_units),1)]),t("div",L,[s[5]||(s[5]=t("p",{class:"text-gray-400 text-sm"},"Statements",-1)),t("p",M,o(e.kpis.statements_count),1)]),t("div",O,[s[6]||(s[6]=t("p",{class:"text-gray-400 text-sm"},"Tracks con regalías",-1)),t("p",q,o(e.kpis.tracks_with_royalties),1)]),t("div",E,[s[7]||(s[7]=t("p",{class:"text-gray-400 text-sm"},"Líneas sin match",-1)),t("p",$,o(e.kpis.unmatched_lines),1)])]),(m=e.monthly)!=null&&m.length?(l(),r("div",z,[s[9]||(s[9]=t("h2",{class:"text-lg font-semibold text-[#ffa236] mb-3"},"Totales por mes",-1)),t("div",G,[t("table",H,[s[8]||(s[8]=t("thead",{class:"text-xs uppercase text-gray-400"},[t("tr",null,[t("th",{class:"px-3 py-2 text-left"},"Mes"),t("th",{class:"px-3 py-2 text-left"},"Units"),t("th",{class:"px-3 py-2 text-left"},"Total USD")])],-1)),t("tbody",null,[(l(!0),r(y,null,g(e.monthly,a=>(l(),r("tr",{key:a.reporting_month_date,class:"border-b border-[#2a2a2a]"},[t("td",J,o(a.reporting_month_date),1),t("td",K,o(a.total_units),1),t("td",P,o(i(a.total_usd)),1)]))),128))])])])])):c("",!0),t("div",Q,[s[10]||(s[10]=t("h2",{class:"text-lg font-semibold text-white"},"Royalties por canción",-1)),N(t("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>n.value=a),type:"text",placeholder:"Buscar por título o ISRC...",class:"input"},null,512),[[T,n.value]])]),t("div",W,[t("table",X,[s[12]||(s[12]=t("thead",{class:"bg-[#1c1c1c] text-gray-400 uppercase text-xs"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"Track"),t("th",{class:"px-4 py-2 text-left"},"ISRC"),t("th",{class:"px-4 py-2 text-left"},"Release"),t("th",{class:"px-4 py-2 text-left"},"Units"),t("th",{class:"px-4 py-2 text-left"},"Total USD")])],-1)),t("tbody",null,[(l(!0),r(y,null,g(e.tracks.data,a=>{var u;return l(),r("tr",{key:a.id,class:"border-b border-[#2a2a2a] hover:bg-[#181818]"},[t("td",Y,o(a.title),1),t("td",Z,o(a.isrc||"-"),1),t("td",tt,o(((u=a.release)==null?void 0:u.title)||"-"),1),t("td",st,o(a.total_units??0),1),t("td",et,o(i(a.total_usd)),1)])}),128)),(p=e.tracks.data)!=null&&p.length?c("",!0):(l(),r("tr",at,[...s[11]||(s[11]=[t("td",{colspan:"5",class:"px-4 py-6 text-center text-gray-400"}," No hay tracks con regalías. ",-1)])]))])])]),e.tracks.links?(l(),b(j,{key:1,links:e.tracks.links,meta:e.tracks.meta,class:"justify-end mt-4"},null,8,["links","meta"])):c("",!0)]}),_:1}))}},mt=R(ot,[["__scopeId","data-v-c208d220"]]);export{mt as default};
