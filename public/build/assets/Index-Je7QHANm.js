import{d as m,s as x,c as V,w as j,a as t,b as C,t as o,e as r,f as c,j as f,k as v,o as a,F as _,i as w,v as D,n as U}from"./app-CzY7Gfd0.js";import{A as z}from"./ArtistLayout-CyAEZMj3.js";import{_ as L}from"./FinanceCharts-D1DXhbwS.js";/* empty css            */import"./responsive-blanco-DOkwJ8BK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"space-y-6"},B={class:"flex items-center justify-between gap-4 flex-wrap"},E={class:"text-sm text-gray-400"},P={class:"bg-gradient-to-br from-[#1d1d1b] to-[#151512] border border-[#3a3a38] rounded-xl p-6 flex flex-wrap gap-4 shadow-lg"},$={class:"flex-1 min-w-[200px]"},J={class:"flex-1 min-w-[200px]"},O=["value"],q={key:0,class:"flex-1 min-w-[200px]"},G=["value"],H={class:"flex-1 min-w-[200px]"},I={class:"flex-1 min-w-[200px]"},R={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-xl p-6"},K={key:0,class:"text-gray-500 text-sm"},Q={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W={class:"flex items-start justify-between gap-3"},X={class:"text-xs text-gray-400 uppercase tracking-wide"},Z={class:"text-white font-semibold text-lg"},ee={class:"space-y-1 text-sm"},te={key:0,class:"text-gray-500"},se={key:1,class:"text-gray-400"},oe={key:2,class:"text-xs text-gray-500"},ae={key:3,class:"text-gray-500"},re={class:"grid grid-cols-2 gap-3 text-sm"},le={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-md p-3"},de={class:"text-white font-semibold"},ne={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-md p-3"},ie={class:"text-[#ffa236] font-semibold"},ue={class:"grid grid-cols-2 gap-3 text-xs text-gray-400"},me={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-md p-3"},fe={class:"text-red-400 font-semibold"},be={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-md p-3"},xe={class:"text-white font-semibold"},ce={class:"flex items-center justify-between text-xs text-gray-400"},pe={key:0,class:"text-gray-500"},ge={key:1,class:"text-gray-500"},De={__name:"Index",props:{summary:{type:Object,default:()=>({})},events:{type:Array,default:()=>[]}},setup(n){const d=n,p=m("all"),i=m(null),b=m(null),g=m(null),y=m(null),N=x(()=>{const l=new Set(d.events.map(e=>new Date(e.event_date).getFullYear()).filter(e=>e>0));return Array.from(l).sort((e,s)=>s-e)}),A=x(()=>{if(!i.value)return[];const l=new Set(d.events.filter(e=>new Date(e.event_date).getFullYear()===i.value).map(e=>new Date(e.event_date).getMonth()+1));return Array.from(l).sort((e,s)=>e-s)}),S=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];x(()=>{const l=d.summary.events_count||d.events.length||0,e=d.summary.paid_events_count||0;return Math.max(l-e,0)});const u=l=>{const e=Number(l??0);return`${d.summary.currency||"USD"} ${e.toFixed(2)}`},T=l=>l?new Date(l).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}):"-",F=x(()=>{var l,e,s,h,k;return{paid:Number(((l=d.summary)==null?void 0:l.total_paid_base)??0),expenses:Number(((e=d.summary)==null?void 0:e.total_expenses_base)??0),net:Number(((s=d.summary)==null?void 0:s.net_base)??0),shareLabel:Number(((h=d.summary)==null?void 0:h.label_share_estimated_base)??0),shareArtist:Number(((k=d.summary)==null?void 0:k.artist_share_estimated_base)??0)}}),M=()=>{b.value=null};return(l,e)=>(a(),V(z,null,{default:j(()=>[t("div",Y,[t("div",B,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-2xl font-bold text-[#ffa236] mb-1"},"Finanzas del artista"),t("p",{class:"text-gray-400 text-sm"}," Lo que tienes pagado, tu 70% estimado y el estado de cobro por evento. ")],-1)),t("span",E,"Total eventos: "+o(n.summary.events_count||n.events.length),1)]),t("div",P,[t("div",$,[e[7]||(e[7]=t("label",{class:"text-[#ffa236] text-sm mb-2 font-semibold flex items-center gap-2"}," Filtrar por estado ",-1)),f(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),class:"w-full bg-[#0f0f0d] border border-[#3a3a38] rounded-lg px-3 py-2 text-white text-sm hover:border-[#ffa236]/30 focus:border-[#ffa236] transition-colors"},[...e[6]||(e[6]=[t("option",{value:"all"},"Todos los eventos",-1),t("option",{value:"paid"},"Solo pagados",-1),t("option",{value:"pending"},"Solo pendientes",-1)])],512),[[v,p.value]])]),t("div",J,[e[9]||(e[9]=t("label",{class:"text-[#ffa236] text-sm mb-2 font-semibold flex items-center gap-2"}," Año ",-1)),f(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),onChange:M,class:"w-full bg-[#0f0f0d] border border-[#3a3a38] rounded-lg px-3 py-2 text-white text-sm hover:border-[#ffa236]/30 focus:border-[#ffa236] transition-colors"},[e[8]||(e[8]=t("option",{value:null},"Todos los años",-1)),(a(!0),r(_,null,w(N.value,s=>(a(),r("option",{key:s,value:s},o(s),9,O))),128))],544),[[v,i.value,void 0,{number:!0}]])]),i.value?(a(),r("div",q,[e[11]||(e[11]=t("label",{class:"text-[#ffa236] text-sm mb-2 font-semibold flex items-center gap-2"}," Mes ",-1)),f(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>b.value=s),class:"w-full bg-[#0f0f0d] border border-[#3a3a38] rounded-lg px-3 py-2 text-white text-sm hover:border-[#ffa236]/30 focus:border-[#ffa236] transition-colors"},[e[10]||(e[10]=t("option",{value:null},"Todos los meses",-1)),(a(!0),r(_,null,w(A.value,s=>(a(),r("option",{key:s,value:s},o(S[s-1]),9,G))),128))],512),[[v,b.value,void 0,{number:!0}]])])):c("",!0),t("div",H,[e[12]||(e[12]=t("label",{class:"text-[#ffa236] text-sm mb-2 font-semibold flex items-center gap-2"}," Desde ",-1)),f(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>g.value=s),type:"date",class:"w-full bg-[#0f0f0d] border border-[#3a3a38] rounded-lg px-3 py-2 text-white text-sm hover:border-[#ffa236]/30 focus:border-[#ffa236] transition-colors"},null,512),[[D,g.value]])]),t("div",I,[e[13]||(e[13]=t("label",{class:"text-[#ffa236] text-sm mb-2 font-semibold flex items-center gap-2"}," Hasta ",-1)),f(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>y.value=s),type:"date",class:"w-full bg-[#0f0f0d] border border-[#3a3a38] rounded-lg px-3 py-2 text-white text-sm hover:border-[#ffa236]/30 focus:border-[#ffa236] transition-colors"},null,512),[[D,y.value]])])]),C(L,{totals:F.value,events:n.events,"filter-type":p.value,"filter-year":i.value,"filter-month":b.value,"filter-date-from":g.value,"filter-date-to":y.value,currency:"$"},null,8,["totals","events","filter-type","filter-year","filter-month","filter-date-from","filter-date-to"]),t("div",R,[e[18]||(e[18]=t("div",{class:"flex items-center justify-between mb-4"},[t("div",null,[t("h2",{class:"text-lg font-semibold text-[#ffa236]"},"Eventos"),t("p",{class:"text-gray-400 text-sm"},"Tu estado de pagos por evento")])],-1)),!n.events||n.events.length===0?(a(),r("div",K," No hay eventos con finanzas registradas todavia. ")):(a(),r("div",Q,[(a(!0),r(_,null,w(n.events,s=>(a(),r("div",{key:s.id,class:"bg-[#111111] border border-[#2a2a2a] rounded-lg p-4 flex flex-col gap-3"},[t("div",W,[t("div",null,[t("p",X,o(T(s.event_date)),1),t("h3",Z,o(s.title),1),t("div",ee,[s.city||s.country?(a(),r("p",te,o(s.city)+o(s.city&&s.country?",":"")+" "+o(s.country),1)):c("",!0),s.location?(a(),r("p",se,o(s.location),1)):c("",!0),s.venue_address?(a(),r("p",oe,o(s.venue_address),1)):!s.city&&!s.country&&s.location?(a(),r("p",ae,o(s.location),1)):c("",!0)])]),t("span",{class:U(["px-3 py-1 text-xs font-semibold rounded-full capitalize",s.status==="pagado"?"bg-green-500/20 text-green-300 border border-green-500/40":"bg-yellow-500/20 text-yellow-300 border border-yellow-500/40"])},o(s.status==="pagado"?"Pagado":"Pendiente"),3)]),t("div",re,[t("div",le,[e[14]||(e[14]=t("p",{class:"text-gray-400 text-xs"},"Total ingresado",-1)),t("p",de,o(u(s.total_paid_base)),1)]),t("div",ne,[e[15]||(e[15]=t("p",{class:"text-gray-400 text-xs"},"Tu 70% estimado",-1)),t("p",ie,o(u(s.artist_share_estimated_base)),1)])]),t("div",ue,[t("div",me,[e[16]||(e[16]=t("p",{class:"text-gray-400 text-[11px]"},"Gastos",-1)),t("p",fe,o(u(s.total_expenses_base)),1)]),t("div",be,[e[17]||(e[17]=t("p",{class:"text-gray-400 text-[11px]"},"Resultado neto",-1)),t("p",xe,o(u(s.net_base)),1)])]),t("div",ce,[t("span",null,"Anticipo: "+o(u(s.advance_paid_base)),1),s.is_upcoming?(a(),r("span",pe,"Proximo")):(a(),r("span",ge,"Pasado"))])]))),128))]))])])]),_:1}))}};export{De as default};
