import{A as g}from"./AdminLayout-DhfR_T_4.js";import{_ as k}from"./PaginationLinks-djDCdIfn.js";import{c as f,w as n,a as t,f as d,b as c,g as p,m as x,h as u,e as i,o as r,F as N,i as v,t as o,p as w}from"./app-DAUalued.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./responsive-blanco-DOkwJ8BK.js";/* empty css            */const S={class:"flex justify-between items-center mb-6"},V={class:"overflow-x-auto bg-[#0f0f0f] rounded-lg shadow"},C={class:"min-w-full text-sm text-gray-300"},F={class:"px-4 py-3"},P={class:"px-4 py-3 capitalize"},U={class:"px-4 py-3"},A={class:"px-4 py-3"},B={class:"px-4 py-3"},I={class:"px-4 py-3"},L={class:"px-2 py-1 rounded bg-[#2a2a2a] text-xs uppercase"},j={class:"px-4 py-3"},E={class:"px-4 py-3"},T={class:"px-4 py-3"},M={class:"px-4 py-3"},R={class:"px-4 py-3 space-x-2"},$=["onClick"],z={key:0},O={__name:"Index",props:{statements:Object},setup(l){const h=a=>{if(!a)return"-";const e=new Date(a);return Number.isNaN(e.getTime())?a:e.toLocaleDateString("es-ES")},_=a=>{const e=Number(a??0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:6}).format(Number.isNaN(e)?0:e)},b=a=>{confirm("¿Procesar este statement ahora?")&&w.post(route("admin.royalties.statements.process",a))};return(a,e)=>(r(),f(g,{title:"Royalties"},{default:n(()=>{var m;return[t("div",S,[t("div",null,[e[1]||(e[1]=t("h1",{class:"text-2xl font-semibold text-white"},"Royalties · Statements",-1)),c(p(x),{href:a.route("admin.royalties.dashboard"),class:"text-gray-400 hover:text-white text-sm"},{default:n(()=>[...e[0]||(e[0]=[u(" Volver al dashboard ",-1)])]),_:1},8,["href"])]),c(p(x),{href:a.route("admin.royalties.statements.create"),class:"btn-primary"},{default:n(()=>[...e[2]||(e[2]=[u(" Upload CSV ",-1)])]),_:1},8,["href"])]),t("div",V,[t("table",C,[e[5]||(e[5]=t("thead",{class:"bg-[#1c1c1c] text-gray-400 uppercase text-xs"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"Fecha"),t("th",{class:"px-4 py-2 text-left"},"Proveedor"),t("th",{class:"px-4 py-2 text-left"},"Label"),t("th",{class:"px-4 py-2 text-left"},"Periodo"),t("th",{class:"px-4 py-2 text-left"},"Archivo"),t("th",{class:"px-4 py-2 text-left"},"Estado"),t("th",{class:"px-4 py-2 text-left"},"Moneda"),t("th",{class:"px-4 py-2 text-left"},"Units"),t("th",{class:"px-4 py-2 text-left"},"Total (USD)"),t("th",{class:"px-4 py-2 text-left"},"Cargado por"),t("th",{class:"px-4 py-2 text-left"},"Acciones")])],-1)),t("tbody",null,[(r(!0),i(N,null,v(l.statements.data,s=>{var y;return r(),i("tr",{key:s.id,class:"border-b border-[#2a2a2a] hover:bg-[#181818]"},[t("td",F,o(h(s.created_at)),1),t("td",P,o(s.provider),1),t("td",U,o(s.label||"-"),1),t("td",A,o(s.reporting_period||"-"),1),t("td",B,o(s.original_filename),1),t("td",I,[t("span",L,o(s.status),1)]),t("td",j,o(s.currency),1),t("td",E,o(s.total_units??0),1),t("td",T,o(_(s.total_net_usd)),1),t("td",M,o(((y=s.creator)==null?void 0:y.name)||"-"),1),t("td",R,[c(p(x),{href:a.route("admin.royalties.statements.show",s.id),class:"text-[#ffa236] hover:underline"},{default:n(()=>[...e[3]||(e[3]=[u(" Ver ",-1)])]),_:1},8,["href"]),s.status==="uploaded"?(r(),i("button",{key:0,type:"button",class:"text-green-400 hover:text-green-300",onClick:q=>b(s.id)}," Procesar ",8,$)):d("",!0)])])}),128)),(m=l.statements.data)!=null&&m.length?d("",!0):(r(),i("tr",z,[...e[4]||(e[4]=[t("td",{colspan:"11",class:"px-4 py-6 text-center text-gray-400"}," No hay statements cargados aún. ",-1)])]))])])]),l.statements.links?(r(),f(k,{key:0,links:l.statements.links,meta:l.statements.meta,class:"justify-end mt-4"},null,8,["links","meta"])):d("",!0)]}),_:1}))}},X=D(O,[["__scopeId","data-v-1e545b2a"]]);export{X as default};
