import{u as b,e as a,a as t,j as u,f as p,k as x,g as s,F as g,i as f,t as n,v as m,z as S,l as k,o as i}from"./app-DAUalued.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const V={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},E=["value"],P={key:0,class:"text-red-500 text-xs mt-1"},U={key:0,class:"text-red-500 text-xs mt-1"},D={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},F={key:0,class:"text-red-500 text-xs mt-1"},j={key:0,class:"text-red-500 text-xs mt-1"},w={key:1,class:"mt-3"},A=["src"],M={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},T={class:"text-gray-300 text-sm"},C=["onUpdate:modelValue"],O={key:0,class:"text-red-500 text-xs mt-1"},B={class:"flex justify-end"},N={type:"submit",class:"btn-primary"},L={__name:"Form",props:{release:{type:Object,default:()=>({})},artists:{type:Array,default:()=>[]},mode:{type:String,default:"create"}},setup(v){const r=v,o=b({artist_id:r.release.artist_id??"",title:r.release.title??"",upc:r.release.upc??"",type:r.release.type??"single",release_date:r.release.release_date??"",description:r.release.description??"",spotify_url:r.release.spotify_url??"",youtube_url:r.release.youtube_url??"",apple_music_url:r.release.apple_music_url??"",deezer_url:r.release.deezer_url??"",amazon_music_url:r.release.amazon_music_url??"",soundcloud_url:r.release.soundcloud_url??"",tidal_url:r.release.tidal_url??"",cover_file:null}),y=()=>{console.log("üü° Enviando formulario Release..."),console.log("üì¶ Datos actuales:",o.data());const _="post",e=r.mode==="edit"?route("admin.releases.update",r.release.id):route("admin.releases.store");o.transform(d=>({...d,_method:r.mode==="edit"?"put":"post"})).submit(_,e,{forceFormData:!0,onStart:()=>console.log("üöÄ POST ‚Üí",e),onProgress:d=>console.log("üì§ Subiendo...",d),onError:d=>{console.group("‚ùå Errores de validaci√≥n"),Object.entries(d).forEach(([l,c])=>console.log(`- ${l}:`,c)),console.groupEnd()},onSuccess:()=>console.log("‚úÖ Release creado/actualizado OK"),onFinish:()=>console.log("üèÅ Proceso finalizado")})};return(_,e)=>{var d;return i(),a("form",{onSubmit:k(y,["prevent"]),class:"space-y-6"},[t("div",V,[t("div",null,[e[8]||(e[8]=t("label",{class:"text-gray-300 text-sm"},"Artista",-1)),u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>s(o).artist_id=l),class:"input"},[e[7]||(e[7]=t("option",{disabled:"",value:""},"Selecciona un artista",-1)),(i(!0),a(g,null,f(v.artists,l=>(i(),a("option",{key:l.id,value:l.id},n(l.name),9,E))),128))],512),[[x,s(o).artist_id]]),s(o).errors.artist_id?(i(),a("p",P,n(s(o).errors.artist_id),1)):p("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{class:"text-gray-300 text-sm"},"T√≠tulo",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s(o).title=l),type:"text",class:"input",placeholder:"Ej: Santo Demonio"},null,512),[[m,s(o).title]]),s(o).errors.title?(i(),a("p",U,n(s(o).errors.title),1)):p("",!0)])]),t("div",D,[t("div",null,[e[11]||(e[11]=t("label",{class:"text-gray-300 text-sm"},"Tipo",-1)),u(t("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>s(o).type=l),class:"input"},[...e[10]||(e[10]=[S('<option value="single" data-v-adb43201>Single</option><option value="ep" data-v-adb43201>EP</option><option value="album" data-v-adb43201>√Ålbum</option><option value="mixtape" data-v-adb43201>Mixtape</option><option value="live" data-v-adb43201>Live</option><option value="compilation" data-v-adb43201>Compilation</option>',6)])],512),[[x,s(o).type]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"text-gray-300 text-sm"},"Fecha de lanzamiento",-1)),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>s(o).release_date=l),type:"date",class:"input"},null,512),[[m,s(o).release_date]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"text-gray-300 text-sm"},"UPC (opcional)",-1)),u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s(o).upc=l),type:"text",class:"input",placeholder:"Ej: 123456789012"},null,512),[[m,s(o).upc]]),s(o).errors.upc?(i(),a("p",F,n(s(o).errors.upc),1)):p("",!0)])]),t("div",null,[e[14]||(e[14]=t("label",{class:"text-gray-300 text-sm"},"Descripci√≥n",-1)),u(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=l=>s(o).description=l),rows:"4",class:"input",placeholder:"Descripci√≥n del release..."},null,512),[[m,s(o).description]])]),t("div",null,[e[16]||(e[16]=t("h3",{class:"text-[#ffa236] font-semibold mb-2"},"Portada",-1)),t("input",{type:"file",name:"cover_file",class:"block w-full text-sm text-gray-400 border border-[#2a2a2a] rounded-md cursor-pointer bg-[#0f0f0f] file:bg-[#ffa236] file:text-black file:px-3 file:py-1",onChange:e[6]||(e[6]=l=>{s(o).cover_file=l.target.files[0],console.log("üñº Archivo portada seleccionado:",s(o).cover_file)})},null,32),s(o).errors.cover_file?(i(),a("p",j,n(s(o).errors.cover_file),1)):p("",!0),r.mode==="edit"&&((d=r.release)!=null&&d.cover_url)?(i(),a("div",w,[t("img",{src:r.release.cover_url+"?tr=w-200,h-200,q-80,fo-auto",alt:"Portada actual",class:"w-32 h-32 object-cover rounded"},null,8,A),e[15]||(e[15]=t("p",{class:"text-xs text-gray-400 mt-1"},"Portada actual",-1))])):p("",!0)]),t("div",null,[e[17]||(e[17]=t("h3",{class:"text-[#ffa236] font-semibold mb-2"},"Plataformas",-1)),t("div",M,[(i(),a(g,null,f([["spotify_url","Spotify"],["youtube_url","YouTube"],["apple_music_url","Apple Music"],["deezer_url","Deezer"],["amazon_music_url","Amazon Music"],["soundcloud_url","SoundCloud"],["tidal_url","Tidal"]],l=>t("div",{key:l[0]},[t("label",T,n(l[1]),1),u(t("input",{"onUpdate:modelValue":c=>s(o)[l[0]]=c,type:"url",class:"input",placeholder:"https://..."},null,8,C),[[m,s(o)[l[0]]]]),s(o).errors[l[0]]?(i(),a("p",O,n(s(o).errors[l[0]]),1)):p("",!0)])),64))])]),t("div",B,[t("button",N,n(r.mode==="edit"?"Actualizar":"Guardar"),1)])],32)}}},I=z(L,[["__scopeId","data-v-adb43201"]]);export{I as default};
