import{d as f,u as D,q as j,c as et,w as R,a as t,e as d,b as S,t as a,h as U,o as r,f as m,g as o,m as st,n as k,l as M,j as c,s as G,F as T,i as O,k as P,v as y}from"./app-DMZ2GxHc.js";import{A as at}from"./AdminLayout-CpSxQmcx.js";import{_ as q}from"./Modal-CTcYhxhQ.js";import{_ as ot}from"./FinanceCharts-5y9HZgKb.js";import{_ as nt}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./responsive-blanco-DOkwJ8BK.js";const lt={class:"space-y-6 text-white"},it={class:"flex items-center justify-between gap-4"},rt={class:"text-2xl font-bold"},dt={class:"text-gray-400 text-sm mt-2 space-y-1"},ut={class:"text-white"},pt={class:"text-white"},ct={key:0},mt={key:0,class:"block text-gray-400 text-xs"},xt={key:1,class:"block text-gray-500 text-xs"},yt={key:1},vt={class:"text-white"},bt={key:0,class:"block text-gray-500 text-xs"},gt={class:"flex items-center gap-3"},ft={class:"flex flex-wrap gap-2 border-b border-[#2a2a2a] pb-3"},_t={key:0,class:"space-y-6"},wt={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},ht={class:"card"},kt={class:"text-white text-xl font-semibold"},Ut={class:"card"},Et={class:"text-white text-xl font-semibold"},Rt={class:"card"},St={class:"text-white text-xl font-semibold"},Ct={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-6"},Nt={class:"flex items-center justify-between mb-3"},Ft={class:"flex items-center gap-2 text-sm text-gray-300"},Vt=["disabled"],Dt={key:0,class:"text-red-500 text-sm mt-2"},jt={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-6"},Mt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},Tt={class:"mini-card"},Ot={class:"text-white font-semibold"},Pt={key:0},At={key:1},$t={key:0,class:"text-gray-400 text-xs mt-1"},It={key:1,class:"text-gray-500 text-xs mt-1"},zt={class:"mini-card"},Bt={class:"text-white font-semibold capitalize"},Lt={class:"text-white font-semibold capitalize"},Gt={class:"mini-card"},qt={class:"text-white font-semibold"},Ht={class:"ml-1"},Yt={class:"text-white font-semibold"},Jt={class:"mini-card"},Kt={class:"text-white font-semibold"},Qt={class:"text-white font-semibold"},Wt={class:"mini-card"},Xt={class:"text-white font-semibold"},Zt={class:"mini-card"},te={class:"mt-1 space-y-1"},ee={class:"text-white font-semibold"},se={class:"text-white font-semibold"},ae={key:1,class:"space-y-4"},oe={class:"flex flex-wrap items-center justify-between gap-3 bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-5"},ne={class:"text-sm text-gray-400"},le={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-6"},ie={key:0,class:"text-gray-400"},re={key:1,class:"overflow-x-auto"},de={class:"min-w-full text-sm text-gray-300"},ue={class:"py-2 whitespace-nowrap"},pe={class:"py-2 whitespace-nowrap"},ce={class:"py-2 whitespace-nowrap"},me={class:"py-2 whitespace-nowrap capitalize"},xe={class:"py-2 whitespace-nowrap"},ye={class:"py-2 max-w-[280px]"},ve={class:"text-gray-300"},be={class:"py-2 text-right whitespace-nowrap"},ge=["onClick"],fe={key:2,class:"space-y-4"},_e={class:"flex flex-wrap items-center justify-between gap-3 bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-5"},we={class:"text-sm text-gray-400"},he={class:"bg-[#1d1d1b] border border-[#2a2a2a] rounded-lg p-6"},ke={key:0,class:"text-gray-400"},Ue={key:1,class:"overflow-x-auto"},Ee={class:"min-w-full text-sm text-gray-300"},Re={class:"py-2 whitespace-nowrap"},Se={class:"py-2 font-semibold whitespace-nowrap"},Ce={class:"py-2 whitespace-nowrap"},Ne={key:0,class:"bg-[#2a2a2a] text-gray-300 px-2 py-1 rounded text-xs capitalize"},Fe={key:1,class:"text-gray-500"},Ve={class:"py-2 whitespace-nowrap"},De={class:"py-2 whitespace-nowrap"},je={class:"py-2 max-w-[280px]"},Me={class:"text-gray-300"},Te={class:"py-2 text-right whitespace-nowrap"},Oe=["onClick"],Pe={key:3,class:"space-y-6"},Ae={class:"bg-gradient-to-br from-[#1d1d1b] to-[#151512] border border-[#3a3a38] rounded-xl p-6 flex flex-wrap gap-4 shadow-lg"},$e={class:"flex-1 min-w-[200px]"},Ie={class:"flex-1 min-w-[200px]"},ze={class:"flex-1 min-w-[200px]"},Be={class:"p-6 space-y-5 text-white"},Le={class:"flex items-center justify-between gap-4"},Ge={key:0,class:"text-red-500 text-sm mt-1"},qe={key:0,class:"text-red-500 text-sm mt-1"},He={key:0},Ye={key:1},Je=["value"],Ke={key:0,class:"text-red-500 text-sm mt-1"},Qe={class:"flex items-center gap-2 mt-6"},We={class:"sm:col-span-2"},Xe={key:0,class:"text-red-500 text-sm mt-1"},Ze={class:"sm:col-span-2 flex justify-end gap-2 mt-2"},ts=["disabled"],es={class:"p-6 space-y-5 text-white"},ss={class:"flex items-center justify-between gap-4"},as={key:0,class:"text-red-500 text-sm mt-1"},os={key:0,class:"text-red-500 text-sm mt-1"},ns={key:0,class:"text-red-500 text-sm mt-1"},ls={key:0,class:"text-red-500 text-sm mt-1"},is={key:0},rs={key:1},ds={class:"sm:col-span-2"},us={key:0,class:"text-red-500 text-sm mt-1"},ps={class:"sm:col-span-2 flex justify-end gap-2 mt-2"},cs=["disabled"],ms={__name:"Finance",props:{event:{type:Object,required:!0},finance:{type:Object,default:()=>({})}},setup(n){const p=n,x=f("resumen"),w=f(!1),h=f(!1),C=f("all"),H=f(null),Y=f(null),N=f(null),F=f(null),J=[{value:"transferencia",label:"Transferencia bancaria"},{value:"efectivo",label:"Efectivo"},{value:"tarjeta",label:"Tarjeta"},{value:"paypal",label:"PayPal"},{value:"otro",label:"Otro"}],i=D({payment_date:new Date().toISOString().slice(0,10),amount_original:"",currency:"EUR",exchange_rate_to_base:1,payment_method:"",is_advance:!1,notes:""}),l=D({expense_date:new Date().toISOString().slice(0,10),name:"",description:"",category:"",amount_original:"",currency:"EUR",exchange_rate_to_base:1}),_=D({is_paid:p.event.is_paid??!1}),b=j(()=>{var g,s,E,L;const u=Number(((g=p.finance)==null?void 0:g.total_paid_base)??0),e=Number(((s=p.finance)==null?void 0:s.total_expenses_base)??0),v=u-e;return{paid:u,expenses:e,net:v,shareLabel:Number(((E=p.finance)==null?void 0:E.share_label)??v*.3),shareArtist:Number(((L=p.finance)==null?void 0:L.share_artist)??v*.7)}}),K=j(()=>{var u,e,v,g;return p.event?[{...p.event,title:p.event.title||p.event.name||"Evento",event_date:p.event.event_date||new Date().toISOString(),status:p.event.is_paid?"pagado":"pendiente",total_paid_base:((u=p.finance)==null?void 0:u.total_paid_base)??0,total_expenses_base:((e=p.finance)==null?void 0:e.total_expenses_base)??0,net_base:(((v=p.finance)==null?void 0:v.total_paid_base)??0)-(((g=p.finance)==null?void 0:g.total_expenses_base)??0)}]:[]}),V=u=>{if(!u)return"—";const e=new Date(u);return Number.isNaN(e.getTime())?u:e.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})},A=()=>{const u=(i.currency||"").toUpperCase().trim();i.currency=u||"EUR",(i.currency==="EUR"||!i.exchange_rate_to_base||Number(i.exchange_rate_to_base)<=0)&&(i.exchange_rate_to_base=1)},$=()=>{const u=(l.currency||"").toUpperCase().trim();l.currency=u||"EUR",(l.currency==="EUR"||!l.exchange_rate_to_base||Number(l.exchange_rate_to_base)<=0)&&(l.exchange_rate_to_base=1)},Q=()=>{A(),i.post(route("admin.events.payments.store",p.event.id),{preserveScroll:!0,onSuccess:()=>{i.reset("amount_original","payment_method","is_advance","notes"),w.value=!1,x.value="pagos"}})},W=u=>{confirm("¿Eliminar este pago?")&&i.delete(route("admin.events.payments.destroy",u),{preserveScroll:!0})},X=()=>{$(),l.post(route("admin.events.expenses.store",p.event.id),{preserveScroll:!0,onSuccess:()=>{l.reset("amount_original","name","description","category"),h.value=!1,x.value="gastos"}})},Z=u=>{confirm("¿Eliminar este gasto?")&&l.delete(route("admin.events.expenses.destroy",u),{preserveScroll:!0})},tt=()=>{_.patch(route("admin.events.payment-status.update",p.event.id),{preserveScroll:!0})},I=j(()=>{const u=!!_.is_paid;return{label:u?"Pagado":"Pendiente",className:u?"bg-green-500/20 text-green-300 border border-green-500/40":"bg-yellow-500/20 text-yellow-300 border border-yellow-500/40"}}),z=()=>{i.payment_date=new Date().toISOString().slice(0,10),i.currency=(i.currency||"EUR").toUpperCase().trim()||"EUR",i.currency==="EUR"&&(i.exchange_rate_to_base=1),w.value=!0},B=()=>{l.expense_date=new Date().toISOString().slice(0,10),l.currency=(l.currency||"EUR").toUpperCase().trim()||"EUR",l.currency==="EUR"&&(l.exchange_rate_to_base=1),h.value=!0};return(u,e)=>(r(),et(at,{title:"Finanzas"},{default:R(()=>{var v,g;return[t("div",lt,[t("div",it,[t("div",null,[t("h1",rt,"Finanzas — "+a(n.event.title),1),t("div",dt,[t("p",null,[e[28]||(e[28]=U(" Artista principal: ",-1)),t("span",ut,a(((v=n.event.main_artist)==null?void 0:v.name)||((g=n.event.mainArtist)==null?void 0:g.name)||"—"),1)]),t("p",null,[e[29]||(e[29]=U(" Ubicación: ",-1)),t("span",pt,[n.event.city||n.event.country?(r(),d("span",ct,[U(a(n.event.city)+a(n.event.city&&n.event.country?",":"")+" "+a(n.event.country)+" ",1),n.event.location?(r(),d("span",mt,a(n.event.location),1)):m("",!0),n.event.venue_address?(r(),d("span",xt,a(n.event.venue_address),1)):m("",!0)])):(r(),d("span",yt,[t("span",vt,a(n.event.location||"—"),1),n.event.venue_address?(r(),d("span",bt,a(n.event.venue_address),1)):m("",!0)]))])])])]),t("div",gt,[S(o(st),{href:u.route("admin.events.index"),class:"text-[#ffa236] hover:underline"},{default:R(()=>[...e[30]||(e[30]=[U(" ← Volver ",-1)])]),_:1},8,["href"])])]),t("div",ft,[t("button",{type:"button",class:k(["tab-btn",x.value==="resumen"?"tab-btn--active":"tab-btn--idle"]),onClick:e[0]||(e[0]=s=>x.value="resumen")}," Resumen ",2),t("button",{type:"button",class:k(["tab-btn",x.value==="pagos"?"tab-btn--active":"tab-btn--idle"]),onClick:e[1]||(e[1]=s=>x.value="pagos")}," Pagos ",2),t("button",{type:"button",class:k(["tab-btn",x.value==="gastos"?"tab-btn--active":"tab-btn--idle"]),onClick:e[2]||(e[2]=s=>x.value="gastos")}," Gastos ",2),t("button",{type:"button",class:k(["tab-btn",x.value==="analisis"?"tab-btn--active":"tab-btn--idle"]),onClick:e[3]||(e[3]=s=>x.value="analisis")}," Análisis ",2),e[31]||(e[31]=t("div",{class:"flex-1"},null,-1)),t("div",{class:"flex gap-2"},[t("button",{type:"button",class:"btn-primary",onClick:z}," + Nuevo pago "),t("button",{type:"button",class:"btn-secondary",onClick:B}," + Nuevo gasto ")])]),x.value==="resumen"?(r(),d("div",_t,[t("div",wt,[t("div",ht,[e[32]||(e[32]=t("p",{class:"text-gray-400 text-sm"},"Total pagado",-1)),t("p",kt,"€ "+a(b.value.paid.toFixed(2)),1),e[33]||(e[33]=t("p",{class:"text-gray-500 text-xs mt-1"},"Suma de pagos (convertidos a EUR).",-1))]),t("div",Ut,[e[34]||(e[34]=t("p",{class:"text-gray-400 text-sm"},"Total gastos",-1)),t("p",Et,"€ "+a(b.value.expenses.toFixed(2)),1),e[35]||(e[35]=t("p",{class:"text-gray-500 text-xs mt-1"},"Suma de gastos (convertidos a EUR).",-1))]),t("div",Rt,[e[36]||(e[36]=t("p",{class:"text-gray-400 text-sm"},"Neto",-1)),t("p",St,"€ "+a(b.value.net.toFixed(2)),1),e[37]||(e[37]=t("p",{class:"text-gray-500 text-xs mt-1"},"Pagos − gastos.",-1))])]),t("div",Ct,[t("div",Nt,[e[38]||(e[38]=t("div",null,[t("h2",{class:"text-lg font-semibold"},"Estado de pago"),t("p",{class:"text-sm text-gray-400"}," Marca si el evento se considera pagado o pendiente. ")],-1)),t("span",{class:k(["px-3 py-1 rounded-full text-xs font-semibold",I.value.className])},a(I.value.label),3)]),t("form",{onSubmit:M(tt,["prevent"]),class:"flex flex-col sm:flex-row sm:items-center gap-4"},[t("label",Ft,[c(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o(_).is_paid=s),type:"checkbox",class:"checkbox"},null,512),[[G,o(_).is_paid]]),e[39]||(e[39]=U(" Marcar como pagado ",-1))]),e[40]||(e[40]=t("div",{class:"flex-1"},null,-1)),t("button",{type:"submit",class:"btn-primary self-start sm:self-auto",disabled:o(_).processing}," Guardar estado ",8,Vt)],32),o(_).errors.is_paid?(r(),d("p",Dt,a(o(_).errors.is_paid),1)):m("",!0)]),t("div",jt,[e[50]||(e[50]=t("h2",{class:"text-lg font-semibold mb-4"},"Datos del evento",-1)),t("div",Mt,[t("div",Tt,[e[41]||(e[41]=t("p",{class:"text-gray-400"},"Ubicación",-1)),t("p",Ot,[n.event.city||n.event.country?(r(),d("span",Pt,a(n.event.city)+a(n.event.city&&n.event.country?",":"")+" "+a(n.event.country),1)):(r(),d("span",At,a(n.event.location||"—"),1))]),n.event.location?(r(),d("p",$t,a(n.event.location),1)):m("",!0),n.event.venue_address?(r(),d("p",It,a(n.event.venue_address),1)):m("",!0)]),t("div",zt,[e[42]||(e[42]=t("p",{class:"text-gray-400"},"Tipo",-1)),t("p",Bt,a(n.event.event_type||"—"),1),e[43]||(e[43]=t("p",{class:"text-gray-400 mt-2"},"Estado",-1)),t("p",Lt,a(n.event.status||"—"),1)]),t("div",Gt,[e[44]||(e[44]=t("p",{class:"text-gray-400"},"Fee del show",-1)),t("p",qt,[t("span",null,a(n.event.currency||"EUR"),1),t("span",Ht,a(Number(n.event.show_fee_total??0).toFixed(2)),1)]),e[45]||(e[45]=t("p",{class:"text-gray-400 mt-2"},"Moneda",-1)),t("p",Yt,a(n.event.currency||"EUR"),1)]),t("div",Jt,[e[46]||(e[46]=t("p",{class:"text-gray-400"},"% Anticipo",-1)),t("p",Kt,a(n.event.advance_percentage??50)+"%",1),e[47]||(e[47]=t("p",{class:"text-gray-400 mt-2"},"¿Se espera anticipo?",-1)),t("p",Qt,a(n.event.advance_expected?"Sí":"No"),1)]),t("div",Wt,[e[48]||(e[48]=t("p",{class:"text-gray-400"},"Fecha pago final",-1)),t("p",Xt,a(n.event.full_payment_due_date?V(n.event.full_payment_due_date):"—"),1)]),t("div",Zt,[e[49]||(e[49]=t("p",{class:"text-gray-400"},"Reparto (neto)",-1)),t("div",te,[t("p",ee,"Label: € "+a(b.value.shareLabel.toFixed(2)),1),t("p",se,"Artista: € "+a(b.value.shareArtist.toFixed(2)),1)])])])])])):x.value==="pagos"?(r(),d("div",ae,[t("div",oe,[t("div",null,[e[51]||(e[51]=t("h2",{class:"text-lg font-semibold"},"Pagos",-1)),t("p",ne,"Total: € "+a(b.value.paid.toFixed(2)),1)]),t("button",{type:"button",class:"btn-primary",onClick:z}," + Nuevo pago ")]),t("div",le,[!n.event.payments||n.event.payments.length===0?(r(),d("div",ie," No hay pagos todavía. ")):(r(),d("div",re,[t("table",de,[e[52]||(e[52]=t("thead",{class:"text-xs uppercase text-gray-400"},[t("tr",null,[t("th",{class:"py-2 text-left"},"Fecha"),t("th",{class:"py-2 text-left"},"Original"),t("th",{class:"py-2 text-left"},"EUR"),t("th",{class:"py-2 text-left"},"Método"),t("th",{class:"py-2 text-left"},"Anticipo"),t("th",{class:"py-2 text-left"},"Notas"),t("th",{class:"py-2 text-right"},"Acciones")])],-1)),t("tbody",null,[(r(!0),d(T,null,O(n.event.payments,s=>(r(),d("tr",{key:s.id,class:"border-t border-[#2a2a2a]"},[t("td",ue,a(V(s.payment_date)),1),t("td",pe,a(s.currency)+" "+a(Number(s.amount_original??0).toFixed(2)),1),t("td",ce," € "+a(Number(s.amount_base??0).toFixed(2)),1),t("td",me,a(s.payment_method||"—"),1),t("td",xe,[t("span",{class:k(["px-2 py-1 rounded text-xs",s.is_advance?"bg-[#ffa236]/15 text-[#ffa236] border border-[#ffa236]/30":"bg-[#2a2a2a] text-gray-300"])},a(s.is_advance?"Sí":"No"),3)]),t("td",ye,[t("span",ve,a((s.notes||"").trim()||"—"),1)]),t("td",be,[t("button",{onClick:E=>W(s.id),class:"text-red-400 hover:underline"}," Eliminar ",8,ge)])]))),128))])])]))])])):x.value==="gastos"?(r(),d("div",fe,[t("div",_e,[t("div",null,[e[53]||(e[53]=t("h2",{class:"text-lg font-semibold"},"Gastos",-1)),t("p",we,"Total: € "+a(b.value.expenses.toFixed(2)),1)]),t("button",{type:"button",class:"btn-secondary",onClick:B}," + Nuevo gasto ")]),t("div",he,[!n.event.expenses||n.event.expenses.length===0?(r(),d("div",ke," No hay gastos registrados. ")):(r(),d("div",Ue,[t("table",Ee,[e[54]||(e[54]=t("thead",{class:"text-xs uppercase text-gray-400"},[t("tr",null,[t("th",{class:"py-2 text-left"},"Fecha"),t("th",{class:"py-2 text-left"},"Nombre"),t("th",{class:"py-2 text-left"},"Categoría"),t("th",{class:"py-2 text-left"},"Original"),t("th",{class:"py-2 text-left"},"EUR"),t("th",{class:"py-2 text-left"},"Descripción"),t("th",{class:"py-2 text-right"},"Acciones")])],-1)),t("tbody",null,[(r(!0),d(T,null,O(n.event.expenses,s=>(r(),d("tr",{key:s.id,class:"border-t border-[#2a2a2a]"},[t("td",Re,a(V(s.expense_date)),1),t("td",Se,a(s.name||"—"),1),t("td",Ce,[s.category?(r(),d("span",Ne,a(s.category),1)):(r(),d("span",Fe,"—"))]),t("td",Ve,a(s.currency)+" "+a(Number(s.amount_original??0).toFixed(2)),1),t("td",De," € "+a(Number(s.amount_base??0).toFixed(2)),1),t("td",je,[t("span",Me,a((s.description||"").trim()||"—"),1)]),t("td",Te,[t("button",{onClick:E=>Z(s.id),class:"text-red-400 hover:underline"}," Eliminar ",8,Oe)])]))),128))])])]))])])):(r(),d("div",Pe,[t("div",Ae,[t("div",$e,[e[56]||(e[56]=t("label",{class:"text-[#ffa236] text-sm mb-2 font-semibold"}," Filtrar por estado ",-1)),c(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>C.value=s),class:"w-full bg-[#0f0f0d] border border-[#3a3a38] rounded-lg px-3 py-2 text-white text-sm hover:border-[#ffa236]/30 focus:border-[#ffa236] transition-colors"},[...e[55]||(e[55]=[t("option",{value:"all"},"Todos",-1),t("option",{value:"paid"},"Solo pagados",-1),t("option",{value:"pending"},"Solo pendientes",-1)])],512),[[P,C.value]])]),t("div",Ie,[e[57]||(e[57]=t("label",{class:"text-[#ffa236] text-sm mb-2 font-semibold"},"Desde",-1)),c(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>N.value=s),type:"date",class:"w-full bg-[#0f0f0d] border border-[#3a3a38] rounded-lg px-3 py-2 text-white text-sm hover:border-[#ffa236]/30 focus:border-[#ffa236] transition-colors"},null,512),[[y,N.value]])]),t("div",ze,[e[58]||(e[58]=t("label",{class:"text-[#ffa236] text-sm mb-2 font-semibold"},"Hasta",-1)),c(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>F.value=s),type:"date",class:"w-full bg-[#0f0f0d] border border-[#3a3a38] rounded-lg px-3 py-2 text-white text-sm hover:border-[#ffa236]/30 focus:border-[#ffa236] transition-colors"},null,512),[[y,F.value]])])]),S(ot,{totals:b.value,events:K.value,"filter-type":C.value,"filter-year":H.value,"filter-month":Y.value,"filter-date-from":N.value,"filter-date-to":F.value,currency:"€"},null,8,["totals","events","filter-type","filter-year","filter-month","filter-date-from","filter-date-to"])])),S(q,{show:w.value,onClose:e[17]||(e[17]=s=>w.value=!1)},{default:R(()=>[t("div",Be,[t("div",Le,[e[59]||(e[59]=t("div",null,[t("h2",{class:"text-lg font-semibold"},"Registrar pago"),t("p",{class:"text-sm text-gray-400"},"Registra un pago y se convertirá a EUR según la tasa.")],-1)),t("button",{type:"button",class:"text-gray-300 hover:text-white",onClick:e[8]||(e[8]=s=>w.value=!1)}," Cerrar ")]),t("form",{onSubmit:M(Q,["prevent"]),class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},[t("div",null,[e[60]||(e[60]=t("label",{class:"text-gray-300 text-sm"},"Fecha",-1)),c(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>o(i).payment_date=s),type:"date",class:"input"},null,512),[[y,o(i).payment_date]]),o(i).errors.payment_date?(r(),d("p",Ge,a(o(i).errors.payment_date),1)):m("",!0)]),t("div",null,[e[61]||(e[61]=t("label",{class:"text-gray-300 text-sm"},"Monto",-1)),c(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>o(i).amount_original=s),type:"number",step:"0.01",class:"input"},null,512),[[y,o(i).amount_original]]),o(i).errors.amount_original?(r(),d("p",qe,a(o(i).errors.amount_original),1)):m("",!0)]),t("div",null,[e[62]||(e[62]=t("label",{class:"text-gray-300 text-sm"},"Moneda (ISO)",-1)),c(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>o(i).currency=s),onBlur:A,type:"text",class:"input",placeholder:"EUR / USD / COP..."},null,544),[[y,o(i).currency]]),e[63]||(e[63]=t("p",{class:"text-gray-500 text-xs mt-1"},"Ej: EUR, USD, COP (3 letras).",-1))]),o(i).currency!=="EUR"?(r(),d("div",He,[e[64]||(e[64]=t("label",{class:"text-gray-300 text-sm"},"Tasa a EUR",-1)),c(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>o(i).exchange_rate_to_base=s),type:"number",step:"0.000001",class:"input"},null,512),[[y,o(i).exchange_rate_to_base]]),e[65]||(e[65]=t("p",{class:"text-gray-500 text-xs mt-1"},"Ej: si 1 USD = 0.92 EUR, pon 0.92",-1))])):(r(),d("div",Ye,[...e[66]||(e[66]=[t("label",{class:"text-gray-300 text-sm"},"Tasa a EUR",-1),t("input",{value:1,disabled:"",class:"input opacity-60"},null,-1),t("p",{class:"text-gray-500 text-xs mt-1"},"EUR no requiere tasa.",-1)])])),t("div",null,[e[68]||(e[68]=t("label",{class:"text-gray-300 text-sm"},"Método de pago",-1)),c(t("select",{"onUpdate:modelValue":e[13]||(e[13]=s=>o(i).payment_method=s),class:"input"},[e[67]||(e[67]=t("option",{value:"",disabled:""},"Selecciona un método",-1)),(r(),d(T,null,O(J,s=>t("option",{key:s.value,value:s.value},a(s.label),9,Je)),64))],512),[[P,o(i).payment_method]]),o(i).errors.payment_method?(r(),d("p",Ke,a(o(i).errors.payment_method),1)):m("",!0)]),t("div",Qe,[c(t("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>o(i).is_advance=s),type:"checkbox",class:"checkbox"},null,512),[[G,o(i).is_advance]]),e[69]||(e[69]=t("span",{class:"text-gray-300 text-sm"},"¿Es anticipo?",-1))]),t("div",We,[e[70]||(e[70]=t("label",{class:"text-gray-300 text-sm"},"Notas",-1)),c(t("textarea",{"onUpdate:modelValue":e[15]||(e[15]=s=>o(i).notes=s),rows:"3",class:"input",placeholder:"Notas adicionales sobre este pago..."},null,512),[[y,o(i).notes]]),o(i).errors.notes?(r(),d("p",Xe,a(o(i).errors.notes),1)):m("",!0)]),t("div",Ze,[t("button",{type:"button",class:"btn-ghost",onClick:e[16]||(e[16]=s=>w.value=!1)}," Cancelar "),t("button",{class:"btn-primary",type:"submit",disabled:o(i).processing}," Guardar pago ",8,ts)])],32)])]),_:1},8,["show"]),S(q,{show:h.value,onClose:e[27]||(e[27]=s=>h.value=!1)},{default:R(()=>[t("div",es,[t("div",ss,[e[71]||(e[71]=t("div",null,[t("h2",{class:"text-lg font-semibold"},"Registrar gasto"),t("p",{class:"text-sm text-gray-400"},"Registra un gasto y se convertirá a EUR según la tasa.")],-1)),t("button",{type:"button",class:"text-gray-300 hover:text-white",onClick:e[18]||(e[18]=s=>h.value=!1)}," Cerrar ")]),t("form",{onSubmit:M(X,["prevent"]),class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},[t("div",null,[e[72]||(e[72]=t("label",{class:"text-gray-300 text-sm"},"Fecha",-1)),c(t("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>o(l).expense_date=s),type:"date",class:"input"},null,512),[[y,o(l).expense_date]]),o(l).errors.expense_date?(r(),d("p",as,a(o(l).errors.expense_date),1)):m("",!0)]),t("div",null,[e[73]||(e[73]=t("label",{class:"text-gray-300 text-sm"},"Nombre del gasto *",-1)),c(t("input",{"onUpdate:modelValue":e[20]||(e[20]=s=>o(l).name=s),type:"text",class:"input",placeholder:"Ej: Vuelo, Hotel..."},null,512),[[y,o(l).name]]),o(l).errors.name?(r(),d("p",os,a(o(l).errors.name),1)):m("",!0)]),t("div",null,[e[75]||(e[75]=t("label",{class:"text-gray-300 text-sm"},"Categoría",-1)),c(t("select",{"onUpdate:modelValue":e[21]||(e[21]=s=>o(l).category=s),class:"input"},[...e[74]||(e[74]=[t("option",{value:""},"Selecciona una categoría",-1),t("option",{value:"transporte"},"Transporte",-1),t("option",{value:"hospedaje"},"Hospedaje",-1),t("option",{value:"alimentacion"},"Alimentación",-1),t("option",{value:"sonido"},"Sonido",-1),t("option",{value:"iluminacion"},"Iluminación",-1),t("option",{value:"seguridad"},"Seguridad",-1),t("option",{value:"marketing"},"Marketing",-1),t("option",{value:"fotografo"},"Fotógrafo",-1),t("option",{value:"filmmaker"},"Filmmaker",-1),t("option",{value:"visa"},"Visa",-1),t("option",{value:"ropa"},"Ropa",-1),t("option",{value:"impuestos"},"Impuestos",-1),t("option",{value:"otros"},"Otros",-1)])],512),[[P,o(l).category]]),o(l).errors.category?(r(),d("p",ns,a(o(l).errors.category),1)):m("",!0)]),t("div",null,[e[76]||(e[76]=t("label",{class:"text-gray-300 text-sm"},"Monto",-1)),c(t("input",{"onUpdate:modelValue":e[22]||(e[22]=s=>o(l).amount_original=s),type:"number",step:"0.01",class:"input"},null,512),[[y,o(l).amount_original]]),o(l).errors.amount_original?(r(),d("p",ls,a(o(l).errors.amount_original),1)):m("",!0)]),t("div",null,[e[77]||(e[77]=t("label",{class:"text-gray-300 text-sm"},"Moneda (ISO)",-1)),c(t("input",{"onUpdate:modelValue":e[23]||(e[23]=s=>o(l).currency=s),onBlur:$,type:"text",class:"input",placeholder:"EUR / USD / COP..."},null,544),[[y,o(l).currency]]),e[78]||(e[78]=t("p",{class:"text-gray-500 text-xs mt-1"},"Ej: EUR, USD, COP (3 letras).",-1))]),o(l).currency!=="EUR"?(r(),d("div",is,[e[79]||(e[79]=t("label",{class:"text-gray-300 text-sm"},"Tasa a EUR",-1)),c(t("input",{"onUpdate:modelValue":e[24]||(e[24]=s=>o(l).exchange_rate_to_base=s),type:"number",step:"0.000001",class:"input"},null,512),[[y,o(l).exchange_rate_to_base]]),e[80]||(e[80]=t("p",{class:"text-gray-500 text-xs mt-1"},"Ej: si 1 USD = 0.92 EUR, pon 0.92",-1))])):(r(),d("div",rs,[...e[81]||(e[81]=[t("label",{class:"text-gray-300 text-sm"},"Tasa a EUR",-1),t("input",{value:1,disabled:"",class:"input opacity-60"},null,-1),t("p",{class:"text-gray-500 text-xs mt-1"},"EUR no requiere tasa.",-1)])])),t("div",ds,[e[82]||(e[82]=t("label",{class:"text-gray-300 text-sm"},"Descripción",-1)),c(t("textarea",{"onUpdate:modelValue":e[25]||(e[25]=s=>o(l).description=s),rows:"3",class:"input",placeholder:"Detalles adicionales del gasto..."},null,512),[[y,o(l).description]]),o(l).errors.description?(r(),d("p",us,a(o(l).errors.description),1)):m("",!0)]),t("div",ps,[t("button",{type:"button",class:"btn-ghost",onClick:e[26]||(e[26]=s=>h.value=!1)}," Cancelar "),t("button",{class:"btn-secondary",type:"submit",disabled:o(l).processing}," Guardar gasto ",8,cs)])],32)])]),_:1},8,["show"])])]}),_:1}))}},ws=nt(ms,[["__scopeId","data-v-e54895b9"]]);export{ws as default};
