import{u as b,e as a,a as t,j as u,f as p,k as f,g as l,F as g,i as x,t as n,v as m,z as S,l as z,o as i}from"./app-BkiIwDrh.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const V={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},D=["value"],E={key:0,class:"text-red-500 text-xs mt-1"},F={key:0,class:"text-red-500 text-xs mt-1"},P={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},U={key:0,class:"text-red-500 text-xs mt-1"},j={key:1,class:"mt-3"},w=["src"],A={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},M={class:"text-gray-300 text-sm"},T=["onUpdate:modelValue"],C={key:0,class:"text-red-500 text-xs mt-1"},O={class:"flex justify-end"},B={type:"submit",class:"btn-primary"},N={__name:"Form",props:{release:{type:Object,default:()=>({})},artists:{type:Array,default:()=>[]},mode:{type:String,default:"create"}},setup(_){const r=_,o=b({artist_id:r.release.artist_id??"",title:r.release.title??"",type:r.release.type??"single",release_date:r.release.release_date??"",description:r.release.description??"",spotify_url:r.release.spotify_url??"",youtube_url:r.release.youtube_url??"",apple_music_url:r.release.apple_music_url??"",deezer_url:r.release.deezer_url??"",amazon_music_url:r.release.amazon_music_url??"",soundcloud_url:r.release.soundcloud_url??"",tidal_url:r.release.tidal_url??"",cover_file:null}),y=()=>{console.log("üü° Enviando formulario Release..."),console.log("üì¶ Datos actuales:",o.data());const v="post",e=r.mode==="edit"?route("admin.releases.update",r.release.id):route("admin.releases.store");o.transform(d=>({...d,_method:r.mode==="edit"?"put":"post"})).submit(v,e,{forceFormData:!0,onStart:()=>console.log("üöÄ POST ‚Üí",e),onProgress:d=>console.log("üì§ Subiendo...",d),onError:d=>{console.group("‚ùå Errores de validaci√≥n"),Object.entries(d).forEach(([s,c])=>console.log(`- ${s}:`,c)),console.groupEnd()},onSuccess:()=>console.log("‚úÖ Release creado/actualizado OK"),onFinish:()=>console.log("üèÅ Proceso finalizado")})};return(v,e)=>{var d;return i(),a("form",{onSubmit:z(y,["prevent"]),class:"space-y-6"},[t("div",V,[t("div",null,[e[7]||(e[7]=t("label",{class:"text-gray-300 text-sm"},"Artista",-1)),u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>l(o).artist_id=s),class:"input"},[e[6]||(e[6]=t("option",{disabled:"",value:""},"Selecciona un artista",-1)),(i(!0),a(g,null,x(_.artists,s=>(i(),a("option",{key:s.id,value:s.id},n(s.name),9,D))),128))],512),[[f,l(o).artist_id]]),l(o).errors.artist_id?(i(),a("p",E,n(l(o).errors.artist_id),1)):p("",!0)]),t("div",null,[e[8]||(e[8]=t("label",{class:"text-gray-300 text-sm"},"T√≠tulo",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>l(o).title=s),type:"text",class:"input",placeholder:"Ej: Santo Demonio"},null,512),[[m,l(o).title]]),l(o).errors.title?(i(),a("p",F,n(l(o).errors.title),1)):p("",!0)])]),t("div",P,[t("div",null,[e[10]||(e[10]=t("label",{class:"text-gray-300 text-sm"},"Tipo",-1)),u(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>l(o).type=s),class:"input"},[...e[9]||(e[9]=[S('<option value="single" data-v-626eda95>Single</option><option value="ep" data-v-626eda95>EP</option><option value="album" data-v-626eda95>√Ålbum</option><option value="mixtape" data-v-626eda95>Mixtape</option><option value="live" data-v-626eda95>Live</option><option value="compilation" data-v-626eda95>Compilation</option>',6)])],512),[[f,l(o).type]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"text-gray-300 text-sm"},"Fecha de lanzamiento",-1)),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l(o).release_date=s),type:"date",class:"input"},null,512),[[m,l(o).release_date]])])]),t("div",null,[e[12]||(e[12]=t("label",{class:"text-gray-300 text-sm"},"Descripci√≥n",-1)),u(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>l(o).description=s),rows:"4",class:"input",placeholder:"Descripci√≥n del release..."},null,512),[[m,l(o).description]])]),t("div",null,[e[14]||(e[14]=t("h3",{class:"text-[#ffa236] font-semibold mb-2"},"Portada",-1)),t("input",{type:"file",name:"cover_file",class:"block w-full text-sm text-gray-400 border border-[#2a2a2a] rounded-md cursor-pointer bg-[#0f0f0f] file:bg-[#ffa236] file:text-black file:px-3 file:py-1",onChange:e[5]||(e[5]=s=>{l(o).cover_file=s.target.files[0],console.log("üñº Archivo portada seleccionado:",l(o).cover_file)})},null,32),l(o).errors.cover_file?(i(),a("p",U,n(l(o).errors.cover_file),1)):p("",!0),r.mode==="edit"&&((d=r.release)!=null&&d.cover_url)?(i(),a("div",j,[t("img",{src:r.release.cover_url+"?tr=w-200,h-200,q-80,fo-auto",alt:"Portada actual",class:"w-32 h-32 object-cover rounded"},null,8,w),e[13]||(e[13]=t("p",{class:"text-xs text-gray-400 mt-1"},"Portada actual",-1))])):p("",!0)]),t("div",null,[e[15]||(e[15]=t("h3",{class:"text-[#ffa236] font-semibold mb-2"},"Plataformas",-1)),t("div",A,[(i(),a(g,null,x([["spotify_url","Spotify"],["youtube_url","YouTube"],["apple_music_url","Apple Music"],["deezer_url","Deezer"],["amazon_music_url","Amazon Music"],["soundcloud_url","SoundCloud"],["tidal_url","Tidal"]],s=>t("div",{key:s[0]},[t("label",M,n(s[1]),1),u(t("input",{"onUpdate:modelValue":c=>l(o)[s[0]]=c,type:"url",class:"input",placeholder:"https://..."},null,8,T),[[m,l(o)[s[0]]]]),l(o).errors[s[0]]?(i(),a("p",C,n(l(o).errors[s[0]]),1)):p("",!0)])),64))])]),t("div",O,[t("button",B,n(r.mode==="edit"?"Actualizar":"Guardar"),1)])],32)}}},q=k(N,[["__scopeId","data-v-626eda95"]]);export{q as default};
