import{A as N}from"./AdminLayout-CpSxQmcx.js";import{q as k,c as v,w as u,a as t,b,g as y,m as h,h as m,t as a,e as d,o as l,F as S,i as P,f,n as F}from"./app-DMZ2GxHc.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./responsive-blanco-DOkwJ8BK.js";/* empty css            */const U={class:"flex justify-between items-center mb-6"},A={class:"grid grid-cols-1 sm:grid-cols-5 gap-4 mb-6"},D={class:"rounded-lg p-4 bg-[#0f0f0f] border border-[#232323]"},I={class:"text-xl font-semibold text-white"},V={class:"rounded-lg p-4 bg-[#0f0f0f] border border-[#232323]"},B={class:"text-xl font-semibold text-red-400"},C={class:"rounded-lg p-4 bg-[#0f0f0f] border border-[#232323]"},L={class:"text-xl font-semibold text-white"},M={class:"rounded-lg p-4 bg-[#0f0f0f] border border-[#232323]"},z={class:"text-xl font-semibold text-[#ffa236]"},T={class:"text-xs text-gray-400"},$={class:"rounded-lg p-4 bg-[#0f0f0f] border border-[#232323]"},j={class:"text-xl font-semibold text-gray-100"},q={class:"text-xs text-gray-400"},G={class:"overflow-x-auto bg-[#0f0f0f] rounded-lg shadow"},O={class:"min-w-full text-sm text-gray-300"},H={class:"px-4 py-3 font-medium"},J={class:"px-4 py-3"},K={class:"px-4 py-3"},Q={class:"text-s"},W={key:0},X={key:1},Y={key:2,class:"text-gray-500 text-s"},Z={key:3},tt={class:"px-4 py-3"},st={key:0,class:"bg-[#2a2a2a] px-2 py-1 rounded text-s capitalize"},et={key:1,class:"text-gray-500"},at={class:"px-4 py-3"},ot={class:"px-4 py-3"},lt={class:"text-xs"},dt={key:0},rt={key:1},it={class:"px-4 py-3"},nt={class:"text-xs"},ct={class:"px-4 py-3"},xt={class:"px-4 py-3"},pt={class:"px-4 py-3 text-right space-x-2"},_t={__name:"Index",props:{events:Object},setup(g){const _=g,x=(i,e="EUR")=>{const s=Number(i??0);if(Number.isNaN(s))return`${e} 0,00`;try{return new Intl.NumberFormat("es-ES",{style:"currency",currency:e}).format(s)}catch{return`${e} ${s.toFixed(2)}`}},r=k(()=>{const i=_.events&&_.events.data?_.events.data:_.events||[];let e=0,s=0,n=0,c=0;for(const o of i)e+=Number(o.total_paid_base??o.totalPaid??o.total_paid??0),s+=Number(o.total_expenses_base??o.totalExpenses??o.total_expenses??0),n+=Number(o.artist_share_estimated_base??o.artist_share_estimated??o.artist_share??0),c+=Number(o.label_share_estimated_base??o.label_share_estimated??o.label_share??0);const p=e-s,E=p!==0?n/(p||1)*100:0,w=p!==0?c/(p||1)*100:0;return{totalPaid:e,totalExpenses:s,net:p,artistShare:n,labelShare:c,artistPct:E,labelPct:w}});return(i,e)=>(l(),v(N,{title:"Eventos"},{default:u(()=>[t("div",U,[e[1]||(e[1]=t("h1",{class:"text-2xl font-semibold text-white"},"ðŸŽ« Eventos",-1)),b(y(h),{href:i.route("admin.events.create"),class:"bg-[#ffa236] hover:bg-[#ffb54d] text-black font-semibold px-4 py-2 rounded-md transition-colors"},{default:u(()=>[...e[0]||(e[0]=[m("+ Nuevo evento",-1)])]),_:1},8,["href"])]),t("div",A,[t("div",D,[e[2]||(e[2]=t("p",{class:"text-xs text-gray-400"},"Ingresos totales",-1)),t("p",I,a(x(r.value.totalPaid,"EUR")),1)]),t("div",V,[e[3]||(e[3]=t("p",{class:"text-xs text-gray-400"},"Gastos totales",-1)),t("p",B,a(x(r.value.totalExpenses,"EUR")),1)]),t("div",C,[e[4]||(e[4]=t("p",{class:"text-xs text-gray-400"},"Resultado neto",-1)),t("p",L,a(x(r.value.net,"EUR")),1)]),t("div",M,[e[5]||(e[5]=t("p",{class:"text-xs text-gray-400"},"70% Artista",-1)),t("p",z,a(x(r.value.artistShare,"EUR")),1),t("p",T,a(Math.round(r.value.artistPct))+"%",1)]),t("div",$,[e[6]||(e[6]=t("p",{class:"text-xs text-gray-400"},"30% CompaÃ±Ã­a",-1)),t("p",j,a(x(r.value.labelShare,"EUR")),1),t("p",q,a(Math.round(r.value.labelPct))+"%",1)])]),t("div",G,[t("table",O,[e[9]||(e[9]=t("thead",{class:"bg-[#1c1c1c] text-gray-400 uppercase text-xs"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"TÃ­tulo"),t("th",{class:"px-4 py-2 text-left"},"Fecha"),t("th",{class:"px-4 py-2 text-left"},"UbicaciÃ³n"),t("th",{class:"px-4 py-2 text-left"},"Tipo"),t("th",{class:"px-4 py-2 text-left"},"Estado"),t("th",{class:"px-4 py-2 text-left"},"Fee / Moneda"),t("th",{class:"px-4 py-2 text-left"},"% Anticipo"),t("th",{class:"px-4 py-2 text-left"},"Pago final"),t("th",{class:"px-4 py-2 text-left"},"Artista Principal"),t("th",{class:"px-4 py-2 text-right"},"Acciones")])],-1)),t("tbody",null,[(l(!0),d(S,null,P(g.events.data,s=>{var n,c;return l(),d("tr",{key:s.id,class:"border-b border-[#2a2a2a] hover:bg-[#181818]"},[t("td",H,a(s.title),1),t("td",J,a(s.event_date?new Date(s.event_date).toLocaleDateString("es-ES"):"-"),1),t("td",K,[t("div",Q,[s.city||s.country?(l(),d("p",W,a(s.city)+a(s.city&&s.country?",":"")+" "+a(s.country),1)):f("",!0),s.location?(l(),d("p",X,a(s.location),1)):f("",!0),s.venue_address?(l(),d("p",Y,"Venue: "+a(s.venue_address),1)):f("",!0),!s.city&&!s.country&&!s.location&&!s.venue_address?(l(),d("p",Z,"â€”")):f("",!0)])]),t("td",tt,[s.event_type?(l(),d("span",st,a(s.event_type),1)):(l(),d("span",et,"â€”"))]),t("td",at,[t("span",{class:F(["px-2 py-1 rounded-full text-s font-semibold",s.status==="pagado"?"bg-green-500/20 text-green-300":s.status==="confirmado"?"bg-blue-500/20 text-blue-300":s.status==="cancelado"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"])},a(s.status||"Sin estado"),3)]),t("td",ot,[t("div",lt,[s.show_fee_total?(l(),d("p",dt,a(s.currency||"EUR")+" "+a(Number(s.show_fee_total).toFixed(2)),1)):(l(),d("p",rt,"â€”"))])]),t("td",it,[t("span",nt,a(s.advance_percentage??50)+"%",1)]),t("td",ct,a(s.full_payment_due_date?new Date(s.full_payment_due_date).toLocaleDateString("es-ES"):"â€”"),1),t("td",xt,a(((n=s.main_artist)==null?void 0:n.name)||((c=s.mainArtist)==null?void 0:c.name)||"-"),1),t("td",pt,[b(y(h),{href:i.route("admin.events.edit",s.id),class:"text-[#ffa236] hover:underline text-sm"},{default:u(()=>[...e[7]||(e[7]=[m(" Editar ",-1)])]),_:1},8,["href"]),b(y(h),{href:i.route("admin.events.finance",s.id),class:"text-green-400 hover:underline text-sm"},{default:u(()=>[...e[8]||(e[8]=[m(" Finanzas ",-1)])]),_:1},8,["href"])])])}),128))])])])]),_:1}))}},mt=R(_t,[["__scopeId","data-v-718682cd"]]);export{mt as default};
